{% use 'bootstrap_3_layout.html.twig' -%}

{% block upload_row -%}
    {% set force_error = true -%}
    {{ block('form_row') -}}
{% endblock upload_row -%}

{% block checkbox_widget -%}
    {% set attr = attr|merge({class: (attr.class|default('') ~ ' custom-control-input')|trim}) -%}
    {{ parent() -}}
{% endblock %}

{% block radio_widget -%}
    {% set attr = attr|merge({class: (attr.class|default('') ~ ' custom-control-input')|trim}) -%}
    {{ parent() -}}
{% endblock %}

{% block choice_widget_collapsed -%}
    {% set attr = attr|merge({
    'data-placeholder': placeholder != '' ? (translation_domain is same as(false) ? placeholder : placeholder|trans({}, translation_domain))
    }) -%}
    {{ parent() -}}
{% endblock %}

{% block file_widget -%}
    {% set attr = attr|merge({class: (attr.class|default('') ~ ' custom-file-input')|trim}) -%}
    <label class="custom-file px-file">
        {{ block('form_widget_simple') }}
        <span class="custom-file-control form-control">Файл не выбран</span>
        <span class="px-file-buttons">
            <button type="button" class="btn px-file-clear">Очистить</button>
            <button type="button" class="btn btn-primary px-file-browse">Выбрать файл</button>
        </span>
    </label>
{% endblock %}

{% block date_widget -%}
    {% if widget is not same as('single_text') -%}
        {% set attr = attr|merge({class: (attr.class|default('') ~ ' form-inline-flex')|trim}) -%}
    {% endif -%}
    {{ parent() -}}
{% endblock %}

{% block time_widget -%}
    {% if widget is not same as('single_text') -%}
        {% set attr = attr|merge({class: (attr.class|default('') ~ ' form-inline-flex')|trim}) -%}
    {% endif -%}
    {{ parent() -}}
{% endblock %}

{% block datetime_widget -%}
    {% if widget is not same as('single_text') -%}
        {% set attr = attr|merge({class: (attr.class|default('') ~ ' form-inline-flex')|trim}) -%}
    {% endif -%}
    {{ parent() -}}
{% endblock %}

{% block dateinterval_widget -%}
    {% if widget is not same as('single_text') -%}
        {% set attr = attr|merge({class: (attr.class|default('') ~ ' form-inline-flex')|trim}) -%}
    {% endif -%}
    {{ parent() -}}
{% endblock %}

{% block calendar_widget -%}
    {% set type = 'text' -%}
    {% set attr = attr|merge({
    'data-provide': 'datepicker',
    'data-date-format': 'yyyy-mm-dd'
    }) -%}
    {{ block('form_widget_simple') -}}
{% endblock %}

{% block markdown_widget -%}
    {% set attr = attr|merge({
    'data-provide': 'markdown',
    }) -%}
    {{ block('textarea_widget') -}}
{% endblock %}

{% block checkbox_radio_label -%}
    {% if widget is defined -%}
        {% set widget = widget ~ '<span class="custom-control-indicator"></span>' -%}
    {% endif -%}
    {{ parent() -}}
{% endblock %}

{% block checkbox_label -%}
    {% set label_attr = label_attr|merge({class: (label_attr.class|default('') ~ ' custom-control custom-checkbox')|trim}) -%}
    {{ parent() -}}
{% endblock %}

{% block radio_label -%}
    {% set label_attr = label_attr|merge({class: (label_attr.class|default('') ~ ' custom-control custom-radio')|trim}) -%}
    {% set required = false -%}
    {{ parent() -}}
{% endblock %}

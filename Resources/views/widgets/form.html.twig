{% set theme = theme ?? null -%}
{% set dark = dark ?? true -%}
{% set colorful = colorful ?? false -%}
{% set flash = flash ?? (form.vars.submitted ? (form.vars.valid ? 'success' : 'danger') : null) %}
{% set heading = heading ?? true -%}
{% set footer = footer ?? true -%}
{% set sticky = sticky ?? true -%}
{% form_theme form form_theme|default('@RuworkAdmin/forms.html.twig') -%}
{{ form_start(form) }}
<div class="panel {{- theme ? ' panel-' ~ theme }} {{- dark ? ' panel-dark' }} {{- colorful ? ' panel-body-colorful' }} {{- flash ? ' panel-flash-' ~ flash }}">
    {% if heading %}
        <div class="panel-heading">
            <span class="panel-title">{% block title '' %}</span>
            <div class="panel-heading-controls">
                {% block controls %}
                    <button class="btn btn-xs btn-outline" data-ruwidget="reload"><i class="fa fa-refresh"></i></button>
                {% endblock %}
            </div>
        </div>
    {% endif %}
    <div class="panel-body">
        {% block body form_rest(form) %}
    </div>
    {% if footer %}
        <div class="panel-footer {{- sticky ? ' panel-footer-sticky' }}">
            {% block footer %}
                <button class="btn btn-primary" type="submit">{% block button 'Сохранить' %}</button>
            {% endblock %}
        </div>
    {% endif %}
</div>
{{ form_end(form) }}
